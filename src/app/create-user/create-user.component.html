<app-side-navigation></app-side-navigation>
<div class="{{side_menu_visibility == '2' ? 'padding_top_6vh' : 'padding_left_main'}}">
<div class="page_heading">
<div class="headding">
<h1 class="page_title">Users</h1>
</div>
<div class="add_user">
    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal_add">Create User</button>
</div>
</div>
<div class="table_division">
<table *ngIf="returnmsg">
  <tr>
    <th>User ID</th>
    <th>Name</th>
    <th>Email</th>
    <th>Mobile No</th>
    <th>Place</th>
    <th>control</th>
  </tr>
  <tr *ngFor="let i of returnmsg.users  let ia = index ">
    <td>{{i.User_Uid}}</td>
    <td>{{i.User_Name}}&nbsp;{{i.User_Lastname}}</td>
    <td>{{i.UserEmail}}</td>
    <td>{{i.MobileNumber}}</td>
    <td>{{i.city}}</td>
    <td><button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal" (click)="store_id(i.User_Uid)">View</button>&nbsp;</td>
    <!-- <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal_delete" (click)="store_id(i.User_Uid)">Delete</button> -->
  </tr>
</table>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Edit User</h4>
      </div>
      <div class="modal-body">
        <md-form-field>
          <input mdInput placeholder="First Name" [(ngModel)]="User_UName" name="username">
      </md-form-field>
      <md-form-field>
        <input mdInput placeholder="Middle Name" [(ngModel)]="User_Name" name="username">
      </md-form-field>
      <br>
      <md-form-field>
          <input mdInput placeholder="Last Name" [(ngModel)]="User_Lastname" name="username">
      </md-form-field>
      <md-form-field>
          <input mdInput placeholder="Mobile" [(ngModel)]="MobileNumber" name="username">
      </md-form-field>
      <br>
      <md-form-field>
        <input mdInput placeholder="Password" [(ngModel)]="User_Password" name="username">
      </md-form-field>
      <md-form-field>
          <input mdInput placeholder="Email" [(ngModel)]="UserEmail" name="username">
      </md-form-field>
      <br>
      <md-form-field>
        <input mdInput placeholder="Disignation" [(ngModel)]="Did" name="username">
      </md-form-field>
      <md-form-field>
        <input mdInput placeholder="Organization" [(ngModel)]="Org_ID" name="username">
      </md-form-field>
      <br>
      <md-form-field>
        <input mdInput placeholder="Department" [(ngModel)]="Dept_Id" name="username">
      </md-form-field>
      <md-form-field>
        <input mdInput placeholder="Zone" [(ngModel)]="Zone_Id" name="username">
      </md-form-field>
      <br>
      <md-form-field>
        <input mdInput placeholder="Address 1" [(ngModel)]="address_line_1" name="username">
      </md-form-field>
      <md-form-field>
        <input mdInput placeholder="Address2" [(ngModel)]="address_line_2" name="username">
      </md-form-field>
      <br>
      <select class="contry_drop"   [(ngModel)]="state" (ngModelChange)="state_select()">
        <option value="" selected="selected" >Select State</option>
        <option *ngFor="let i of state_1  let ia = index " value={{i.state_name}}>
          {{i.state_name}}
        </option>
      </select>
      <select *ngIf="state" class="contry_drop"   [(ngModel)]="city">
        <option value="" selected="selected" >Select city</option>
        <option *ngFor="let i of city_1 let ia = index " value={{i}}>
          {{i}}
        </option>
      </select>
      <br>
      <!-- <md-form-field>
        <input mdInput placeholder="Country" [(ngModel)]="country" name="username">
      </md-form-field> -->
      <md-form-field>
        <input mdInput placeholder="Pincode" [(ngModel)]="pincode" name="username">
      </md-form-field>
      <br>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="edit()">Edit User</button>
      </div>
    </div>

  </div>
</div>
<div class="modal fade" id="myModal_delete" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Delete User</h4>
      </div>
      <div class="modal-body">
        <p>Are You Want to Delete?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="delete()">Delete</button>
      </div>
    </div>

  </div>
</div>
<div class="modal fade" id="myModal_add" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Add User</h4>
        </div>
        <div class="modal-body">
            <md-form-field>
                <input mdInput placeholder="First Name" [(ngModel)]="User_UName" name="username">
            </md-form-field>
            <md-form-field>
              <input mdInput placeholder="Middle Name" [(ngModel)]="User_Name" name="username">
            </md-form-field>
            <br>
            <md-form-field>
                <input mdInput placeholder="Last Name" [(ngModel)]="User_Lastname" name="username">
            </md-form-field>
            <md-form-field>
                <input mdInput placeholder="Mobile" [(ngModel)]="MobileNumber" name="username">
            </md-form-field>
            <br>
            <md-form-field>
              <input mdInput placeholder="Password" [(ngModel)]="User_Password" name="username">
            </md-form-field>
            <md-form-field>
                <input mdInput placeholder="Email" [(ngModel)]="UserEmail" name="username">
            </md-form-field>
            <br>
            <!-- <md-form-field>
              <input mdInput placeholder="Disignation" [(ngModel)]="Did" name="username">
            </md-form-field>
            <md-form-field>
              <input mdInput placeholder="Organization" [(ngModel)]="Org_ID" name="username">
            </md-form-field>
            <br>
            <md-form-field>
              <input mdInput placeholder="Department" [(ngModel)]="Dept_Id" name="username">
            </md-form-field>
            <md-form-field>
              <input mdInput placeholder="Zone" [(ngModel)]="Zone_Id" name="username">
            </md-form-field>
            <br> -->
            <md-form-field>
              <input mdInput placeholder="Address 1" [(ngModel)]="address_line_1" name="username">
            </md-form-field>
            <md-form-field>
              <input mdInput placeholder="Address 2" [(ngModel)]="address_line_2" name="username">
            </md-form-field>
            <br>
            <select class="contry_drop"   [(ngModel)]="state" (ngModelChange)="state_select()">
              <option value="" selected="selected" >Select State</option>
              <option *ngFor="let i of state_1  let ia = index " value={{i.state_name}}>
                {{i.state_name}}
              </option>
            </select>
            <select *ngIf="state" class="contry_drop"   [(ngModel)]="city">
              <option value="" selected="selected" >Select city</option>
              <option *ngFor="let i of city_1 let ia = index " value={{i}}>
                {{i}}
              </option>
            </select>
            <br>
            <select class="contry_drop"   [(ngModel)]="Dept_Id">
              <option value="" selected="selected" >Select Departnment</option>
              <option *ngFor="let i of returnmsg6  let ia = index " value={{i.Dept_Id}}>
                {{i.Dept_Name}}
              </option>
            </select>
            <select class="contry_drop"   [(ngModel)]="Did">
              <option value="" selected="selected" >Select Designation</option>
              <option *ngFor="let i of returnmsg7 let ia = index " value={{i.Designation_Id}}>
                {{i.Designation_Name}}
              </option>
            </select>
            <br>
            <br>
            <select class="contry_drop"   [(ngModel)]="Org_ID">
              <option value="" selected="selected" >Select Organization</option>
              <option *ngFor="let i of returnmsg8  let ia = index " value={{i.id}}>
                {{i.name}}
              </option>
            </select>
            <select class="contry_drop"   [(ngModel)]="Zone_Id">
              <option value="" selected="selected" >Select Zone</option>
              <option *ngFor="let i of returnmsg9 let ia = index " value={{i.Zone_Id}}>
                {{i.Zone_Name}}
              </option>
            </select>
            <br>
            <md-form-field>
              <input mdInput placeholder="Pincode" [(ngModel)]="pincode" name="username">
            </md-form-field>
            <br>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-default" data-dismiss="modal" (click)="add()">Add User</button>
        </div>
      </div>

    </div>
  </div>
</div>
